---
import Layout from "@layouts/Layout.astro";
import Header from "@components/Header.astro";
import Footer from "@components/Footer.astro";
import Main from "@layouts/Main.astro";
import { SITE } from "@config";
import { defaultLocale, type Locale } from "@i18n/config";
import { messages } from "@i18n/dict";

const lang: Locale = Astro.url.pathname.startsWith("/zh-hant/")
  ? "zh-hant"
  : defaultLocale;
const t = messages[lang];
const title = t.nav.profolio;
const description =
  lang === "zh-hant"
    ? "個人應用與 MCP 伺服器的簡要作品集。"
    : "A small portfolio of personal apps and MCP servers.";
const canonical = new URL(Astro.url.pathname, Astro.site).href;
---

<Layout
  title={`${title} | ${SITE.title}`}
  lang={lang}
  alternates={{
    en: canonical,
    "zh-hant": new URL(`/zh-hant${Astro.url.pathname}`, Astro.site).href,
  }}
>
  <Header activeNav="profolio" {lang} />
  <Main pageTitle={title} pageDesc={description}>
    <section class="space-y-5">
      <h2 class="mb-2 text-2xl font-semibold tracking-wide">
        {t.profolio.sections.pwa}
      </h2>
      <div class="space-y-4">
        <div class="rounded-md border border-skin-line bg-skin-card p-4">
          <h3 class="text-lg font-semibold">
            <a
              class="text-skin-accent hover:underline"
              href="https://cmwen.github.io/learn-japanese/"
              target="_blank"
              rel="noopener noreferrer"
            >
              {t.profolio.projects.japaneseLearningSuffix}
            </a>
          </h3>
          <p class="mt-1 text-sm text-skin-muted">
            {t.profolio.projects.japaneseDescription}
          </p>
          <div class="mt-2 text-sm">
            <span class="font-medium">{t.toolbox.common.techStack}</span>
            <ul class="mt-1 list-disc pl-5">
              <li>Svelte + Vite</li>
              <li>{t.profolio.tech.pwaPwa}</li>
            </ul>
          </div>
          <p class="mt-2 text-sm">
            {t.toolbox.common.source}
            <a
              class="text-skin-accent hover:underline"
              href="https://github.com/cmwen/learn-japanese"
              target="_blank"
              rel="noopener noreferrer">github.com/cmwen/learn-japanese</a
            >
          </p>
        </div>

        <div class="rounded-md border border-skin-line bg-skin-card p-4">
          <h3 class="text-lg font-semibold">
            <a
              class="text-skin-accent hover:underline"
              href="https://github.com/cmwen/project-initiator"
              target="_blank"
              rel="noopener noreferrer"
            >
              project-initiator — repository bootstrapper
            </a>
          </h3>
          <p class="mt-1 text-sm text-skin-muted">
            A small utility and set of templates to quickly scaffold new
            projects with sensible defaults (TS, linting, CI, and basic project
            structure).
          </p>
          <div class="mt-2 text-sm">
            <span class="font-medium">{t.toolbox.common.techStack}</span>
            <ul class="mt-1 list-disc pl-5">
              <li>TypeScript, Node.js</li>
              <li>Templates for CLI, web, and libraries</li>
            </ul>
          </div>
          <p class="mt-2 text-sm">
            {t.toolbox.common.source}
            <a
              class="text-skin-accent hover:underline"
              href="https://github.com/cmwen/project-initiator"
              target="_blank"
              rel="noopener noreferrer">github.com/cmwen/project-initiator</a
            >
          </p>
        </div>

        <div class="rounded-md border border-skin-line bg-skin-card p-4">
          <h3 class="text-lg font-semibold">
            <a
              class="text-skin-accent hover:underline"
              href="https://cmwen.github.io/podcast-pwa/"
              target="_blank"
              rel="noopener noreferrer"
            >
              {t.profolio.projects.podcastWipSuffix}
            </a>
          </h3>
          <p class="mt-1 text-sm text-skin-muted">
            {t.profolio.projects.podcastDescription}
          </p>
          <div class="mt-2 text-sm">
            <span class="font-medium">{t.toolbox.common.techStack}</span>
            <ul class="mt-1 list-disc pl-5">
              <li>Preact + TypeScript, Vite</li>
              <li>
                Vite PWA, IndexedDB (idb), Cache API; fast-xml-parser,
                SortableJS
              </li>
              <li>Vitest, Playwright, ESLint/Prettier; Lighthouse CI</li>
            </ul>
          </div>
          <p class="mt-2 text-sm">
            {t.toolbox.common.source}
            <a
              class="text-skin-accent hover:underline"
              href="https://github.com/cmwen/podcast-pwa"
              target="_blank"
              rel="noopener noreferrer">github.com/cmwen/podcast-pwa</a
            >
          </p>
        </div>
      </div>
    </section>

    <section class="mt-8 space-y-5">
      <h2 class="mb-2 text-2xl font-semibold tracking-wide">
        {t.profolio.sections.cli}
      </h2>
      <div class="space-y-4">
        <div class="rounded-md border border-skin-line bg-skin-card p-4">
          <h3 class="text-lg font-semibold">
            <a
              class="text-skin-accent hover:underline"
              href="https://www.npmjs.com/package/@cmwen/todo-app"
              target="_blank"
              rel="noopener noreferrer"
            >
              {t.profolio.projects.todoMultimode}
            </a>
          </h3>
          <p class="mt-1 text-sm text-skin-muted">
            {t.profolio.projects.todoDescription}
          </p>
          <div class="mt-2 text-sm">
            <span class="font-medium">{t.toolbox.common.techStack}</span>
            <ul class="mt-1 list-disc pl-5">
              <li>{t.profolio.tech.typescriptMonorepo}</li>
              <li>{t.profolio.tech.sqliteWebsocket}</li>
              <li>{t.profolio.tech.nextjsMcp}</li>
              <li>{t.profolio.tech.cliOrchestrator}</li>
            </ul>
          </div>
          <p class="mt-2 text-sm">
            {t.toolbox.common.source}
            <a
              class="text-skin-accent hover:underline"
              href="https://github.com/cmwen/todo-app"
              target="_blank"
              rel="noopener noreferrer">github.com/cmwen/todo-app</a
            >
          </p>
        </div>

        <div class="rounded-md border border-skin-line bg-skin-card p-4">
          <h3 class="text-lg font-semibold">
            <a
              class="text-skin-accent hover:underline"
              href="https://www.npmjs.com/package/@cmwen/sdlc-agents"
              target="_blank"
              rel="noopener noreferrer"
            >
              @cmwen/sdlc-agents — Agentic SDLC Framework
            </a>
          </h3>
          <p class="mt-1 text-sm text-skin-muted">
            A lightweight, role-based Agentic SDLC framework where specialized
            AI agents collaborate to deliver software with strong traceability
            and human oversight. Includes seven specialized agents: Research,
            Vision, Product, Design, Execution, QA, and Governance.
          </p>
          <div class="mt-2 text-sm">
            <span class="font-medium">{t.toolbox.common.techStack}</span>
            <ul class="mt-1 list-disc pl-5">
              <li>TypeScript, Node.js CLI</li>
              <li>Structured Markdown docs with traceability</li>
              <li>GitHub Copilot, Claude, Cursor integration</li>
              <li>7 specialized AI agent prompt files</li>
            </ul>
          </div>
          <p class="mt-2 text-sm">
            {t.toolbox.common.source}
            <a
              class="text-skin-accent hover:underline"
              href="https://github.com/cmwen/sdlc-agents"
              target="_blank"
              rel="noopener noreferrer">github.com/cmwen/sdlc-agents</a
            >
          </p>
        </div>
      </div>
    </section>

    <section class="mt-8 space-y-5">
      <h2 class="mb-2 text-2xl font-semibold tracking-wide">
        {t.profolio.sections.mcp}
      </h2>
      <div class="space-y-4">
        <div class="rounded-md border border-skin-line bg-skin-card p-4">
          <h3 class="text-lg font-semibold">
            <a
              class="text-skin-accent hover:underline"
              href="https://www.npmjs.com/package/@cmwen/min-kb-mcp"
              target="_blank"
              rel="noopener noreferrer"
            >
              {t.profolio.projects.minKbSuffix}
            </a>
          </h3>
          <p class="mt-1 text-sm text-skin-muted">
            {t.profolio.projects.minKbDescription}
          </p>
          <div class="mt-2 text-sm">
            <span class="font-medium">{t.toolbox.common.techStack}</span>
            <ul class="mt-1 list-disc pl-5">
              <li>{t.profolio.tech.typescriptNodejs}</li>
              <li>{t.profolio.tech.sqliteWasm}</li>
              <li>{t.profolio.tech.mcpServer}</li>
            </ul>
          </div>
          <p class="mt-2 text-sm">
            {t.toolbox.common.source}
            <a
              class="text-skin-accent hover:underline"
              href="https://github.com/cmwen/min-kb-mcp"
              target="_blank"
              rel="noopener noreferrer">github.com/cmwen/min-kb-mcp</a
            >
          </p>
        </div>

        <div class="rounded-md border border-skin-line bg-skin-card p-4">
          <h3 class="text-lg font-semibold">
            <a
              class="text-skin-accent hover:underline"
              href="https://www.npmjs.com/package/@cmwen/min-n8n-mcp"
              target="_blank"
              rel="noopener noreferrer"
            >
              {t.profolio.projects.minN8nSuffix}
            </a>
          </h3>
          <p class="mt-1 text-sm text-skin-muted">
            {t.profolio.projects.minN8nDescription}
          </p>
          <div class="mt-2 text-sm">
            <span class="font-medium">{t.toolbox.common.techStack}</span>
            <ul class="mt-1 list-disc pl-5">
              <li>TypeScript, Node.js, Zod validation</li>
              <li>{t.profolio.tech.httpClientInfra}</li>
              <li>{t.profolio.tech.mcpServerMode}</li>
            </ul>
          </div>
          <p class="mt-2 text-sm">
            {t.toolbox.common.source}
            <a
              class="text-skin-accent hover:underline"
              href="https://github.com/cmwen/min-n8n-mcp"
              target="_blank"
              rel="noopener noreferrer">github.com/cmwen/min-n8n-mcp</a
            >
          </p>
        </div>
      </div>
    </section>
  </Main>
  <Footer />
</Layout>
