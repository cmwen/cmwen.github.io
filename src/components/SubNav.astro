---
import { defaultLocale, type Locale } from "@i18n/config";

export interface Props {
  activeSubNav?: "agents" | "notebooks" | "toolbox-home";
  lang?: Locale;
}

const { activeSubNav, lang = defaultLocale } = Astro.props;
const base = lang === "zh-hant" ? "/zh-hant" : "";
const linkBase =
  "whitespace-nowrap text-sm font-medium transition-colors duration-200 hover:text-skin-accent";
const activeClasses =
  "text-skin-accent underline decoration-2 underline-offset-4";
const inactiveClasses = "text-skin-base/80";
---

<nav
  class="subnav border-b border-skin-line bg-skin-fill"
  aria-label="Toolbox navigation"
>
  <div class="subnav-container mx-auto max-w-3xl px-4">
    <ul class="subnav-list flex space-x-6 overflow-x-auto py-3">
      <li class="flex-shrink-0">
        <a
          href={`${base}/toolbox/`}
          class={`${linkBase} ${
            activeSubNav === "toolbox-home" ? activeClasses : inactiveClasses
          }`}
        >
          Tools
        </a>
      </li>
      <li class="flex-shrink-0">
        <a
          href={`${base}/toolbox/agents/`}
          class={`${linkBase} ${
            activeSubNav === "agents" ? activeClasses : inactiveClasses
          }`}
        >
          Agents
        </a>
      </li>
      <li class="flex-shrink-0">
        <a
          href={`${base}/toolbox/notebooks/`}
          class={`${linkBase} ${
            activeSubNav === "notebooks" ? activeClasses : inactiveClasses
          }`}
        >
          Notebooks
        </a>
      </li>
    </ul>
  </div>
</nav>

<style>
  .subnav-list {
    scrollbar-width: thin;
  }

  .subnav-list::-webkit-scrollbar {
    height: 0.25rem;
  }

  .subnav-list::-webkit-scrollbar-track {
    background-color: rgb(var(--color-fill));
  }

  .subnav-list::-webkit-scrollbar-thumb {
    border-radius: 9999px;
    background-color: rgb(var(--color-card));
  }
</style>
